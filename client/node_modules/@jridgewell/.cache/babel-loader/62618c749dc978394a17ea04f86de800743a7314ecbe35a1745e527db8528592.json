{"ast":null,"code":"import { withRouter } from 'react-router-dom';\nimport React from \"react\";\nimport history from './history';\nimport { useCookies } from 'react-cookie';\nconst getHeader = {\n  headers: {\n    Accept: \"application/json\"\n  }\n};\nconst postHeader = {\n  method: \"POST\",\n  headers: {\n    ...getHeader,\n    \"Content-Type\": \"application/json\"\n  }\n};\nlet host = \"\";\nif (process.env.NODE_ENV !== \"production\") host = \"http://localhost:3000\";\nexport const getCertificate = certificateId => fetch(`${host}/certificate/data/${certificateId}`, getHeader).then(res => res.json()).catch(err => {\n  console.log(err);\n});\nexport const verifyCertificate = certificateId => fetch(`${host}/certificate/verify/${certificateId}`, getHeader).then(res => {\n  if (res.status === 200) return true;else if (res.status === 401) return false;\n}).catch(err => {\n  console.log(err);\n});\nexport const generateCertificate = (candidateName, courseName, orgName, assignDate, duration, emailId) =>\n// console.log(\"Hello\");\nfetch(`${host}/certificate/generate`, {\n  ...postHeader,\n  body: JSON.stringify({\n    candidateName,\n    courseName,\n    orgName,\n    assignDate,\n    duration,\n    emailId\n  })\n}).then(res => res.json()).catch(err => {\n  console.log(err);\n});\nexport const SignUp = (username, pass, firstname, lastname, email, phone, gender) => {\n  fetch(`${host}/signup`, {\n    ...postHeader,\n    body: JSON.stringify({\n      username,\n      pass,\n      firstname,\n      lastname,\n      email,\n      phone,\n      gender\n    })\n  }).then(res => {\n    console.log(res.json());\n    return {\n      User: firstname\n    };\n  }).catch(err => {\n    console.log(err);\n  });\n};\n_c = SignUp;\nexport const login = (UserName, Password) => {\n  fetch(`${host}/login`, {\n    ...postHeader,\n    body: JSON.stringify({\n      email: UserName,\n      pass: Password\n    })\n  }).then(res => {\n    if (res.status === 200) {\n      localStorage.setItem('user', UserName);\n      localStorage.setItem('pwd', Password);\n      // setCookie('user',UserName, { path: '/' });\n      history.push('/dashboard');\n    }\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\n// login.propTypes = {\n//   history: React.PropTypes.shape({\n//     push: React.PropTypes.func.isRequired,\n//   }),\n// };\nvar _c;\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"names":["withRouter","React","history","useCookies","getHeader","headers","Accept","postHeader","method","host","process","env","NODE_ENV","getCertificate","certificateId","fetch","then","res","json","catch","err","console","log","verifyCertificate","status","generateCertificate","candidateName","courseName","orgName","assignDate","duration","emailId","body","JSON","stringify","SignUp","username","pass","firstname","lastname","email","phone","gender","User","login","UserName","Password","localStorage","setItem","push"],"sources":["C:/Users/adity/Desktop/D/extra/Blockchain/blockchain-certification/newnew/client/src/Utils/apiConnect.js"],"sourcesContent":["import { withRouter } from 'react-router-dom'\r\nimport React from \"react\";\r\nimport history from './history'\r\nimport { useCookies } from 'react-cookie'\r\n\r\n\r\n\r\n\r\n\r\nconst getHeader = {\r\n  headers: {\r\n    Accept: \"application/json\"\r\n  }\r\n};\r\n\r\nconst postHeader = {\r\n  method: \"POST\",\r\n  headers: {\r\n    ...getHeader,\r\n    \"Content-Type\": \"application/json\"\r\n  }\r\n};\r\n\r\nlet host = \"\";\r\n\r\nif (process.env.NODE_ENV !== \"production\") host = \"http://localhost:3000\";\r\n\r\nexport const getCertificate = certificateId =>\r\n  fetch(`${host}/certificate/data/${certificateId}`, getHeader)\r\n    .then(res => res.json())\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n\r\nexport const verifyCertificate = certificateId =>\r\n  fetch(`${host}/certificate/verify/${certificateId}`, getHeader)\r\n    .then(res => {\r\n      if (res.status === 200) return true;\r\n      else if (res.status === 401) return false;\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n\r\nexport const generateCertificate = (\r\n  candidateName,\r\n  courseName,\r\n  orgName,\r\n  assignDate,\r\n  duration,\r\n  emailId\r\n) =>\r\n// console.log(\"Hello\");\r\n  fetch(`${host}/certificate/generate`, {\r\n    ...postHeader,\r\n    body: JSON.stringify({\r\n      candidateName,\r\n      courseName,\r\n      orgName,\r\n      assignDate,\r\n      duration,\r\n      emailId\r\n    })\r\n  })\r\n    .then(res => res.json())\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n\r\n\r\n    export const SignUp =(username,pass,firstname,\r\n      lastname,\r\n      email,\r\n      phone,\r\n      gender\r\n      ) =>\r\n    {\r\n      fetch(`${host}/signup`, {\r\n        ...postHeader,\r\n        body: JSON.stringify({\r\n          username,\r\n          pass,\r\n          firstname,\r\n          lastname,\r\n          email,\r\n          phone,\r\n          gender,\r\n          \r\n        })\r\n      })\r\n        .then(res =>{ console.log(res.json())\r\n        \r\n          return ({User:firstname});\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    }\r\n\r\n   export const login =(UserName,Password) =>\r\n    {\r\n      fetch(`${host}/login`, {\r\n        ...postHeader,\r\n        body: JSON.stringify({\r\n          email:UserName,\r\n          pass:Password\r\n        })\r\n      })\r\n        .then(res =>{ if(res.status===200)\r\n          {\r\n            localStorage.setItem('user',UserName)\r\n            localStorage.setItem('pwd',Password)\r\n            // setCookie('user',UserName, { path: '/' });\r\n            history.push('/dashboard');\r\n        }})\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    }\r\n\r\n    \r\n// login.propTypes = {\r\n//   history: React.PropTypes.shape({\r\n//     push: React.PropTypes.func.isRequired,\r\n//   }),\r\n// };\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}